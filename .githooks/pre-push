#!/usr/bin/env bash
set -euo pipefail

# Pre-push: the real gate. Catches what would fail CI.
# Format is checked (not auto-fixed) because this is about verification.

echo "[pre-push] Format check..."
cargo fmt --all -- --check

echo "[pre-push] Clippy..."
cargo clippy --workspace --all-targets -- -D warnings

echo "[pre-push] Unit tests..."
cargo test --workspace --lib

echo "[pre-push] âœ“ All checks passed"
exit 0
